services:
  vosk-api:
    build:
      context: .
      dockerfile: Dockerfile
    image: vosk-api:latest # Asigna un nombre a la imagen
    container_name: vosk-api-container # Nombre del contenedor
    ports:
      - "8000:8000" # Mapear el puerto 8000
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY} # La variable API_KEY se tomará del entorno
    restart: unless-stopped
    volumes:
      - modelo_cache:/root/.cache
      - vosk_volume:/app/vosk  # Asocia el volumen "vosk_volume" con "/app/vosk" en el contenedor
volumes:
  modelo_cache:
  vosk_volume: 